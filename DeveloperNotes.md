# Introduction #

This page may note be kept up to date at all times, but it explains a few things about the code in ExpoSong.

# Schedule List #

Files: schedlist.py

A gtk.TreeView is used with a gtk.TreeModel

# Schedule / Presentation List #

Files: schedule.py, preslist.py

# Screen #

Files: screen.py

  * Cairo is used to draw the window. The preview area is copied from the presentation window when it is visible. When it is not visible, the preview area is generated by itself, which causes it to look different.
  * The algorithm to get the font size is quick, and gets pretty close to the biggest possible size that will fit on screen. Here's the basic pseudo-code:
```
Size = 16
Min = 0
Max = 56 #This is actually set from a config file
for i in 1-4:
  If size is too big:
    max = size
    size = min + size / 2
  If size is too small
    min = size
    size = max + size / 2
```

# Plugins #

Files: plugins/`__init__`.py, plugins/`_abstract.py`

Plugins are used to implement optional features of the program, and to extend the features to customize the users needs. See PluginMethods for more information.

# Presentation #

Files: plugins/text.py, plugins/lyric.py, plugins/image.py

_Out of date:_ `ptype` is a folder of presentation types in ExpoSong. `generic` is the current basic slide, and `lyric` is a slide for song lyrics. The code for the edit dialog is in [\_\_init\_\_.py](http://code.google.com/p/exposong/source/browse/trunk/ptype/__init__.py).

# Data Storage #

Data is stored in xml format. Schedules are in data/sched, and presentations are in data/pres. See [\_pres.dtd](http://code.google.com/p/exposong/source/browse/trunk/data/_pres.dtd) and [\_sched.dtd](http://code.google.com/p/exposong/source/browse/trunk/data/_sched.dtd) for the definitions. Some public domain songs are included.

# Preferences #

Files: prefs.py, config.py

Preferences are currently managed by [prefs.py](http://code.google.com/p/exposong/source/browse/trunk/prefs.py), and are stored in the users home directory.

## prefs.py ##

This file contains two classes, `Prefs`, which sets up the default preferences and fetches preferences from config.py. It pops up the dialog from `PrefsDialog`, and then saves the configuration to disk.

The instance variable, `config`, stores an instance of `Prefs`